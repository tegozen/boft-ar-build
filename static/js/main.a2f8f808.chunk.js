(this["webpackJsonpthreejs-osora-cli"]=this["webpackJsonpthreejs-osora-cli"]||[]).push([[0],{31:function(e,t,a){e.exports=a(48)},40:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),s=a.n(c),o=a(18),i=a(17),u=(a(40),a(6)),l=a(7),m=a(9),d=a(8),v=a(5),p=a.n(v),f=a(11),h=a(30),b=a(10),E=a.n(b),g={setRedux:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({type:"redux"},e)}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({},e,t)},k={isPreloader:!1},O={actions:g,reducers:N,initialState:k},j=Math.floor,_=Math.random,w={path:"/desktop"},y={path:"/mobile"},x={connect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(e){var a={};return t.length?t.forEach((function(t){a[t]=e[t]})):Object.keys(e).forEach((function(t){"type"!==t&&(a[t]=e[t])})),a};return Object(o.b)(a,(function(e){return{setRedux:function(t){return e(O.actions.setRedux(t))}}}))(e)},dispatchEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=new CustomEvent(e,{detail:t});a?a.dispatchEvent(r):document.dispatchEvent(r)},randomInt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return j(_()*(t-e+1))+e},setClasses:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];(t&&(r=t),a)&&(e=r).push.apply(e,Object(h.a)(Object.keys(a).map((function(e){return a[e]&&e})).filter((function(e){return e}))));return r.join(" ")},store:{get:E.a.getItem,gets:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a={};Promise.all(t.map(function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.getItem(t);case 2:return r=e.sent,a[t]=r,e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){e(a)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:E.a.setItem,sets:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.keys(t).map((function(e){return E.a.setItem(e,t[e])})));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:E.a.removeItem,removes:function(e){return Promise.all(e.map(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.removeItem(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},clear:E.a.clear}},C={BASESUF:window.BASESUF||""},S=["676x676","676x849","923x568","923x602"],A=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).onClickPrev=function(){var e=r.state.count;if(0===e)return!1;--e>=0&&r.setState({count:e})},r.onClickNext=function(){var e=r.state.count;if(3===e)return!1;++e<4&&r.setState({count:e})},r.state={count:0},r}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.count;return n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"header"},n.a.createElement("img",{alt:"",src:"./img/logo.png"})),n.a.createElement("div",{className:"fullSpace"},n.a.createElement("div",{className:"markerWrapper"},n.a.createElement("div",{className:x.setClasses(["marker","marker_".concat(e)])},n.a.createElement("img",{className:"marker__img",alt:"",src:"/marker/".concat(S[e],"/").concat(S[e],".png")}),n.a.createElement("img",{className:"marker__qrcode",alt:"",src:""}))),n.a.createElement("div",{className:"buttons"},n.a.createElement("div",{className:x.setClasses(["button"],{button_disabled:0===e}),onClick:this.onClickPrev},"\u041f\u0440\u0435\u0434. \u041c\u0430\u043a\u0435\u0442"),n.a.createElement("div",{className:x.setClasses(["button"],{button_disabled:3===e}),onClick:this.onClickNext},"\u0421\u043b. \u041c\u0430\u043a\u0435\u0442"))))}}]),a}(n.a.Component);function P(e){var t=e.children,a=e.onClose,r=e.className;return n.a.createElement("div",{className:x.setClasses(["overlay",r])},n.a.createElement("div",{className:"overlay__closer",onClick:a}),t)}P.defaultProps={className:"",onClose:function(){return!1}};var q=P,D=a(26),I=a(27),M=a(28),B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onClose=function(){var t=e.props,a=t.isActiveName,r=t.onClose,n=Object(D.a)({},a,!1);r?r(n):e.props.setRedux(n)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isActive,r=e.className;return!!t&&a.html({className:r})}}]),a}(n.a.Component);B.defaultProps={isActive:!0,isActiveName:"",onClose:!1,className:""},B.html=function(e){var t=e.className;return n.a.createElement(q,{className:t},n.a.createElement("div",{className:"preloader"},n.a.createElement(I.a,{icon:M.a,spin:!0,size:"3x"})))};var R=x.connect(B,[""]),U={Header:function(){return n.a.createElement("div",{className:"header"},n.a.createElement("img",{alt:"",src:"./img/logo.png"}))},Overlay:q,Preloader:R},F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).permissionStatus=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,navigator.permissions.query({name:"camera"});case 4:a=e.sent,n=a.state,e.t0=n,e.next="prompt"===e.t0?9:"denied"===e.t0?11:13;break;case 9:return t.isAccess=!1,e.abrupt("break",15);case 11:return t.isAccess=n,e.abrupt("break",15);case 13:return t.isAccess=!0,e.abrupt("break",15);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),t.isAccess=!0;case 20:r.setState(t);case 21:case"end":return e.stop()}}),e,null,[[1,17]])}))),r.requestPermission=function(){return navigator.mediaDevices.getUserMedia({video:!0}).then(r.permissionStatus).catch(r.permissionStatus)},r.renderError=function(){return n.a.createElement("div",{className:"request"},n.a.createElement("img",{className:"request__img",src:"/img/error.png",alt:""}),n.a.createElement("div",{className:"request__text"},"\u0412\u044b \u0437\u0430\u043f\u0440\u0435\u0442\u0438\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u0430\u043c\u0435\u0440\u0435 \u0440\u0430\u043d\u0435\u0435. \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0432\u0440\u0443\u0447\u043d\u0443\u044e"),n.a.createElement("div",{className:"button button_center",onClick:r.requestPermission},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u0430\u043c\u0435\u0440\u0435"))},r.renderDetection=function(){return n.a.createElement(n.a.Fragment,null,U.Preloader.html({className:"arjs-loader"}),n.a.createElement("a-scene",{"vr-mode-ui":"enabled: false;",renderer:"logarithmicDepthBuffer: false;",embedded:!0,arjs:"trackingMethod: best; sourceType: webcam;debugUIEnabled: true;"},n.a.createElement("a-nft",{type:"nft",url:"./marker/676x676/676x676",smooth:"true",smoothount:"10",smoothtolerance:"0.01",smooththreshold:"5"},n.a.createElement("a-box",{position:"0 0 0",width:"100",height:"100",material:"color: red;"})),n.a.createElement("a-entity",{camera:!0})))},r.renderRequest=function(){return n.a.createElement("div",{className:"request"},n.a.createElement("img",{className:"request__img",src:"/img/error.png",alt:""}),n.a.createElement("div",{className:"request__text"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u043a\u0430\u043c\u0435\u0440\u044b, \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u0435 \u0432\u0438\u0434\u0435\u043e"),n.a.createElement("div",{className:"button button_center",onClick:r.requestPermission},"\u0414\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u0430\u043c\u0435\u0440\u0435"))},r.state={isAccess:!0},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.permissionStatus()}},{key:"render",value:function(){var e=this.state.isAccess;return n.a.createElement("div",{className:"page page_camera"},e?"denied"===e?this.renderError():this.renderDetection():this.renderRequest())}}]),a}(n.a.Component),T=a(13),X={Desktop:A,Mobile:F,Main:function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"page"},n.a.createElement(U.Header,null),n.a.createElement("div",{className:"fullSpace"},n.a.createElement("div",{className:"buttons"},n.a.createElement(T.a,{className:"button",to:C.BASESUF+w.path},"\u041f\u041a"),n.a.createElement(T.a,{className:"button",to:C.BASESUF+y.path},"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439"))))}}]),a}(n.a.Component)},W=a(29),H=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(U.Preloader,{isActive:this.props.isPreloader,isActiveName:"isPreloader"}),W.isBrowser?n.a.createElement(X.Desktop,null):n.a.createElement(X.Mobile,null))}}]),a}(n.a.Component),J=x.connect(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(47);var L=Object(i.b)(O.reducers,O.initialState,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:L},n.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a2f8f808.chunk.js.map